# Лендинг для писателя + админ-панель (MySQL)

Лендинг для писателя с красивым дизайном и адаптивной версткой **плюс backend на Node.js + база MySQL**:
- **регистрация/вход пользователей**
- **админ-панель** для редактирования данных блоков и изображений
- хранение изображений в папке **`media/`**

## Особенности

- **Блок обложка** - главный экран с описанием автора, статистикой и призывом к действию
- **Блок об авторе** - информация о писателе и достижениях
- **Блок книги** - карусель книг
- **Блок отзывы** - отзывы читателей с рейтингами
- **Админ-панель** - редактирование обложки/автора/книг/отзывов + загрузка картинок
- **MySQL** - хранение всех данных сайта и пользователей

## Структура проекта

```
nronzhina_book - MySQL/
├── index.html          # Публичный лендинг
├── styles.css          # Стили
├── script.js           # JS лендинга (подгрузка из API + карусель)
├── auth.html           # Вход/регистрация
├── auth.js             # JS входа/регистрации
├── admin.html          # Админ-панель
├── admin.js            # JS админ-панели
├── media/              # Загруженные изображения (хранение файлов)
└── backend/            # Node.js backend (API + раздача статики)
    ├── db/schema.sql
    ├── env.example
    └── src/...
```

## Быстрый старт (рекомендуется)

Важно: лендинг подгружает данные из API (`/api/public/landing`), поэтому **правильный запуск — через backend**.

### 1) Подготовить MySQL

Создайте БД и примените схему:

```bash
# создать БД
mysql -u root -p -e "CREATE DATABASE IF NOT EXISTS nronzhina_book CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# применить схему + стартовый контент
mysql -u root -p nronzhina_book < backend/db/schema.sql
```

### 2) Настроить переменные окружения backend

В репозитории лежит пример: `backend/env.example`.

Создайте файл `backend/.env` **у себя локально** и заполните:

```bash
PORT=3000
DB_HOST=127.0.0.1
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=nronzhina_book

JWT_SECRET=change_me_please
JWT_EXPIRES_IN=7d
```

### 3) Установить зависимости и запустить сервер

```bash
cd backend
npm install
npm run start
```

Откройте сайт: `http://localhost:3000/`

### 4) Создать администратора

В `backend/.env` задайте:

```bash
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=admin12345
ADMIN_NAME=Администратор
```

И выполните:

```bash
cd backend
npm run create-admin
```

После этого:
- вход/регистрация: `http://localhost:3000/auth.html`
- админ-панель: `http://localhost:3000/admin.html`

## Где хранятся изображения

- Файлы сохраняются в папку **`media/`** (в корне проекта).
- Сервер раздаёт их по URL: **`/media/<filename>`**
- В MySQL сохраняется путь вида `/media/<filename>`.

## Что именно редактируется в админке

- **Обложка**: имя, подзаголовок, описание, статистика, фото автора
- **Об авторе**: заголовок, 3 параграфа, картинка, достижения (CRUD)
- **Книги**: CRUD + обложка книги
- **Отзывы**: CRUD + аватар
- **Футер**: email/телефон + ссылки соцсетей + копирайт

## Изменение цветов

В файле `styles.css` найдите секцию `:root` и измените цветовые переменные:

```css
:root {
    --primary-color: #8B7355;
    --secondary-color: #6B5B73;
    --accent-color: #D4A574;
    /* ... */
}
```

## Технологии

- HTML5
- CSS3 (Flexbox, Grid)
- Vanilla JavaScript
- Node.js (Express)
- MySQL

## Лицензия

Свободное использование для личных и коммерческих проектов.
